<?xml version="1.0"?>
<Container version="2">
    <Name>eink-proxy</Name>
    <Repository>ghcr.io/rjgrandy/eink-proxy:latest</Repository>
    <Registry>https://ghcr.io/</Registry>
    <Network>bridge</Network>
    <Shell>bash</Shell>
    <Privileged>false</Privileged>
    <Support>https://github.com/rjgrandy/eink-proxy/issues</Support>
    <Project>https://github.com/rjgrandy/eink-proxy</Project>
    <Overview>This container proxies an upstream dashboard image and remaps it to the seven-colour Waveshare E-ink palette. Set SOURCE_URL to the HTTP endpoint that returns the dashboard snapshot you would like to display.</Overview>
    <Category>HomeAutomation:Tools</Category>
    <WebUI>http://[IP]:[PORT:5500]/</WebUI>
    <TemplateURL>https://raw.githubusercontent.com/your-user/eink-proxy/main/unraid/docker-template.xml</TemplateURL>
    <Icon></Icon>
    <ExtraParams></ExtraParams>
    <PostArgs></PostArgs>
    <Config Name="Dashboard Source URL" Target="SOURCE_URL" Default="http://192.168.1.199:10000/lovelace-main/einkpanelcolor?viewport=800x480" Mode="rw" Description="HTTP URL that returns the dashboard snapshot or image." Type="Variable" Display="always" Required="true" Mask="false"/>
    <Config Name="Container HTTP Port" Target="5500" Default="5500" Mode="tcp" Description="Port exposed by the container." Type="Port" Display="always" Required="true" Mask="false"/>
    <Config Name="Application Port Variable" Target="PORT" Default="5500" Mode="rw" Description="Internal HTTP port the proxy listens on (should match the container port)." Type="Variable" Display="advanced" Required="false" Mask="false"/>
    <Config Name="Photo Mode" Target="PHOTO_MODE" Default="hybrid" Mode="rw" Description="Photo processing mode (hybrid, fs, stucki, ordered)." Type="Variable" Display="advanced" Required="false" Mask="false"/>
    <Config Name="Cache TTL" Target="CACHE_TTL" Default="5" Mode="rw" Description="Seconds to cache rendered output before re-fetching upstream." Type="Variable" Display="advanced" Required="false" Mask="false"/>
    <Config Name="Source Timeout" Target="SOURCE_TIMEOUT" Default="10.0" Mode="rw" Description="HTTP timeout when contacting the source URL (seconds)." Type="Variable" Display="advanced" Required="false" Mask="false"/>
    <Config Name="Source Retries" Target="SOURCE_RETRIES" Default="2" Mode="rw" Description="Number of retries when contacting the source URL." Type="Variable" Display="advanced" Required="false" Mask="false"/>
</Container>
